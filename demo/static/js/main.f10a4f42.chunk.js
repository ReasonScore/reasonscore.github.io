(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{43:function(e,t,a){e.exports=a(92)},49:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(8),i=a(3),c=a(0),l=a.n(c),o=a(19),d=a.n(o),m=(a(49),a(7)),p=a(4),h=a(5),u=a(12),b=a(20),g=a(16),f=a(15),v=a(2),E=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"confidence",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object(v.newId)(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(h.a)(this,e),this.parentId=t,this.childId=a,this.affects=n,this.pro=r,this.id=s,this.priority=i,this.type="claimEdge",this.checked=void 0},y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(v.newId)(),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(h.a)(this,e),this.content=t,this.id=a,this.reversible=n,this.type="claim",this.labelMin="",this.labelMid="",this.labelMax="",this.priority=""},x=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=[];n.state.pasteClaim&&n.state.claimEdge?n.state.claimEdge&&(n.state.claimEdge.childId=n.state.pasteClaim,e.push(new v.Action(n.state.claimEdge,void 0,"add_claimEdge"))):(e.push(new v.Action(n.state.claim,void 0,n.props.new?"add_claim":"modify_claim")),n.state.claimEdge&&e.push(new v.Action(n.state.claimEdge,void 0,n.props.new?"add_claimEdge":"modify_claimEdge")));Object(v.calculateScoreActions)({actions:e,repository:n.props.repository}).then(function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.messenger.notify(e.concat(a));case 2:n.props.handleEditClose();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleText=function(e){var t=e.currentTarget.id.split("."),a=n.state;if(2===t.length)n.setState(Object(m.a)({},t[0],Object(p.a)({},a[t[0]],Object(m.a)({},t[1],e.currentTarget.value))));else{if(1!==t.length)throw new Error("id expectes 1 or 2 items in path. "+t.length+" were received.");n.setState(Object(m.a)({},t[0],e.currentTarget.value))}},n.handlePriority=function(e){n.setState({claimEdge:{priority:e.currentTarget.value}})},n.handlePasteClaim=function(e){n.setState({pasteClaim:e.currentTarget.value})},n.handlePro=function(e){var t=n.props.proMainContext?e.currentTarget.checked:!e.currentTarget.checked;n.setState({claimEdge:Object(p.a)({},n.state.claimEdge,{pro:e.currentTarget.checked}),proMain:t})},n.handleProMain=function(e){var t=n.props.proMainContext?e.currentTarget.checked:!e.currentTarget.checked;n.setState({claimEdge:Object(p.a)({},n.state.claimEdge,{pro:t}),proMain:e.currentTarget.checked})},n.handleDelete=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.claimEdge&&((t=[]).push(new v.Action(void 0,n.state.claimEdge,"delete_claimEdge",n.state.claimEdge.id)),Object(v.calculateScoreActions)({actions:t,repository:n.props.repository}).then(function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.messenger.notify(t.concat(a));case 2:n.props.handleEditClose();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.handleCancel=function(){n.props.handleEditClose()},n.state={proMain:!0,pasteClaim:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.props.new){e.next=6;break}t.claim=new y,t.claimEdge=new E(this.props.claimId,t.claim.id),e.next=11;break;case 6:return e.next=8,this.props.repository.getClaim(this.props.claimId);case 8:(a=e.sent)&&(t.claim=a),this.props.claimEdge&&(t.claimEdge=JSON.parse(JSON.stringify(this.props.claimEdge)));case 11:t.claimEdge&&(t.proMain=this.props.proMainContext?t.claimEdge.pro:!t.claimEdge.pro),t.claim&&(void 0===t.claim.labelMin&&(t.claim.labelMin=""),void 0===t.claim.labelMid&&(t.claim.labelMid=""),void 0===t.claim.labelMax&&(t.claim.labelMax=""),t.claimEdge&&void 0===t.claimEdge.priority&&(t.claim.priority="")),this.setState(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.claim&&l.a.createElement("form",{className:"container"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"claim.content"},"Content"),l.a.createElement("textarea",{className:"form-control",id:"claim.content",value:this.state.claim.content,onChange:this.handleText,rows:2}),l.a.createElement("small",{className:"form-text text-muted"},"For hyperlinks us ",l.a.createElement("a",{href:"https://spec.commonmark.org/0.29/#links"},"commonMark")," syntax: This is [an example](http://example.com/) inline link.")),l.a.createElement("div",{className:"form-row  edit-lines"},l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",{htmlFor:"claim.labelMin"},"Minimum Value Label"),l.a.createElement("input",{type:"text",className:"form-control",id:"claim.labelMin",value:this.state.claim.labelMin,onChange:this.handleText})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",{htmlFor:"claim.labelMid"},"Middle Value Label"),l.a.createElement("input",{type:"text",className:"form-control",id:"claim.labelMid",value:this.state.claim.labelMid,onChange:this.handleText})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",{htmlFor:"claim.labelMax"},"Maximum Value Label"),l.a.createElement("input",{type:"text",className:"form-control",id:"claim.labelMax",value:this.state.claim.labelMax,onChange:this.handleText}))),this.state.claimEdge&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-xs-4 mr-4"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"claimEdge.pro",checked:this.state.claimEdge.pro,onChange:this.handlePro}),l.a.createElement("label",{className:"form-check-label",htmlFor:"claimEdge.pro"},"Pro Parent"))),l.a.createElement("div",{className:"form-group col-xs-4"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"proMain",checked:this.state.proMain,onChange:this.handleProMain}),l.a.createElement("label",{className:"form-check-label",htmlFor:"proMain"},"Pro Main")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-xs-4"},l.a.createElement("label",{htmlFor:"claimEdge.affects"},"Affects"),l.a.createElement("select",{className:"form-control",id:"claimEdge.affects",value:this.state.claimEdge.affects,onChange:this.handleText},l.a.createElement("option",{value:"confidence"},"Confidence"),l.a.createElement("option",{value:"relevance"},"Relevance"))),l.a.createElement("div",{className:"form-group col-xs-4"},l.a.createElement("label",{htmlFor:"claimEdge.priority"},"Priority"),l.a.createElement("input",{type:"text",className:"form-control",id:"claimEdge.priority",value:this.state.claimEdge.priority,onChange:this.handlePriority})),l.a.createElement("div",{className:"form-group col-xs-4"},l.a.createElement("label",{htmlFor:"pasteClaim"},"Paste Claim"),l.a.createElement("input",{type:"text",className:"form-control",id:"pasteClaim",value:this.state.pasteClaim,onChange:this.handlePasteClaim})))),l.a.createElement("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button groups"},l.a.createElement("div",{className:"btn-group mr-3",role:"group","aria-label":"Save Locally"},l.a.createElement("button",{type:"button",value:"Save Locally",className:"btn btn-primary",onClick:this.handleSubmit},"Save Locally")),l.a.createElement("div",{className:"btn-group mr-3",role:"group","aria-label":"Cancel"},l.a.createElement("button",{type:"button",value:"Cancel",className:"btn btn-secondary",onClick:this.handleCancel},"Cancel")),this.props.claimEdge&&l.a.createElement("div",{className:"btn-group ml-5",role:"group","aria-label":"Delete"},l.a.createElement("button",{type:"button",value:"Delete",className:"btn btn btn-outline-danger",onClick:this.handleDelete},"Delete"))),l.a.createElement("span",null,"ID: ",this.state.claim.id)))}}]),a}(l.a.Component),k=a(94),w=a(95),N=a(76),C=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChildrenVisible1=function(){n.state.childrenVisible&&(window.document.getElementById("expander2-"+n.state.score.id).checked=!0)},n.handleChildrenVisible=function(e){var t,a=Object(v.selectNode)(n.state.score.id,n.props.repository.rsData),r=window.document.getElementsByClassName("expander2"),i=Object(s.a)(r);try{var c=function(){var e=t.value,n=window.document.getElementById(e.id.replace("expander2","expander3")),r=a.find((function(t){return t.itemId===e.id.substring(10,100)}));r?"selected"===r.status?(e.checked=!0,n.checked=!0):"ancestor"===r.status?(e.checked=!1,n.checked=!0):(e.checked=!1,n.checked=!1):(e.checked=!1,n.checked=!1)};for(i.s();!(t=i.n()).done;)c()}catch(l){i.e(l)}finally{i.f()}},n.handleDataDispatch=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,c,l,o,d,m,h,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(s.a)(t),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=23;break}if(c=i.value,l=c.newData,o=c.type,d=c.dataId,m=c.oldData,h={},"modify_claim"===o&&d===n.state.claim.id&&(h.claim=Object(p.a)({},n.state.claim,{},l)),"modify_claimEdge"===o&&n.state.claimEdge&&d===n.state.claimEdge.id&&(h.claimEdge=Object(p.a)({},n.state.claimEdge,{},l)),"delete_claimEdge"!==o||m.parentId!==n.state.claim.id){e.next=13;break}return e.next=12,n.props.repository.getChildrenByScoreId(n.state.score.id);case 12:h.childScores=e.sent;case 13:if("modify_score"===o&&d===n.state.score.id&&(h.score=Object(p.a)({},n.state.score,{},l)),"add_score"!==o||l.parentScoreId!==n.state.score.id){e.next=20;break}return!1===n.state.childrenVisible&&(h.childrenVisible=!0),e.next=18,n.props.repository.getChildrenByScoreId(n.state.score.id);case 18:u=e.sent,h.childScores=u;case 20:n.setState(h);case 21:e.next=3;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),a.e(e.t0);case 28:return e.prev=28,a.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[1,25,28,31]])})));return function(t){return e.apply(this,arguments)}}(),n.handleEditButtonClick=function(){n.setState({editorVisible:!n.state.editorVisible,addMode:!1})},n.handleAddButtonClick=function(){n.setState({addMode:!0,editorVisible:!n.state.editorVisible})},n.handleEditClose=function(){n.setState({editorVisible:!1})},n.state={childrenVisible:!1,editorVisible:!1,addMode:!1,score:new v.Score("",""),claim:new y,childScores:[],claimEdge:void 0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,s,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.repository.getScore(this.props.scoreId);case 2:if(t=e.sent,a=new y,n=this.state.childrenVisible,!t){e.next=19;break}if(!t.sourceEdgeId){e.next=10;break}return e.next=9,this.props.repository.getClaimEdge(t.sourceEdgeId);case 9:s=e.sent;case 10:return e.next=12,this.props.repository.getClaim(t.sourceClaimId);case 12:return i=e.sent,e.next=15,this.props.repository.getChildrenByScoreId(t.id);case 15:c=e.sent,t.parentScoreId||this.props.settings.startClosed||(n=!0),i&&(a=i),this.setState({score:t,claim:a,childScores:c,childrenVisible:n,claimEdge:s});case 19:this.props.messenger.subscribe(this.handleDataDispatch),this.handleChildrenVisible1();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.messenger.unsubscribe(this.handleDataDispatch)}},{key:"render",value:function(){var e=this.props,t=this.state.score,n=this.state.claim,r=this.state.childScores,i=e.proMainContext,c="".concat(Math.round(100*t.confidence),"%"),o=this.props.settings,d=t.confidence;t&&(t.pro||(i=!i),!t.reversible&&t.confidence<0&&(d=0),"relevance"===t.affects?(c=t.pro?"X":"\xf7",c+="".concat((t.relevance+1).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:1}))):c="".concat(Math.round(d*t.relevance*100)));var m="";if(o.scoreDescriptions)if("relevance"===t.affects)m="Importance",m=t.pro?"Increases "+m:"Decreases "+m;else{var p,h="";void 0===t.parentScoreId?p=o.scoreDescriptions.result:(p=o.scoreDescriptions.impact,h=i?" Pro":" Con");var u,b=Object(s.a)(p);try{for(b.s();!(u=b.n()).done;){var g=u.value;t.confidence*t.relevance>=g.min&&(m=g.desc)}}catch(S){b.e(S)}finally{b.f()}m+=h+": "}r.length||(m="Assumed "+m);var f="";this.state.score.descendantCount>0&&(f=" based on "+this.state.score.descendantCount+" claim",this.state.score.descendantCount>1&&(f+="s"),f+=".");var v=r;r.length>1&&(v=r.sort((function(e,t){return void 0!==e.priority&&""!==e.priority||void 0!==t.priority&&""!==t.priority?void 0===e.priority||""===e.priority?1:void 0===t.priority||""===t.priority?-1:e.priority>t.priority?1:e.priority<t.priority?-1:0:0})));var E,y=i?"pro":"con",C=Math.abs(100*t.fraction-(1-t.confidence)*t.fraction*100).toFixed(0);return"100"===C&&(C="99"),E=void 0===t.parentScoreId?t.confidence<0?"-":" ":i?"+":"-",l.a.createElement("div",{className:"claim-outer"},l.a.createElement("input",{id:"expander2-"+t.id,type:"checkbox",className:"expander2",onChange:this.handleChildrenVisible}),l.a.createElement("input",{id:"expander3-"+t.id,type:"checkbox",className:"expander3"}),l.a.createElement("div",{className:"claim-hider"},l.a.createElement("div",{className:"claim "+y},r.length>0&&l.a.createElement("div",{id:"expander-"+this.state.score.id,className:"expander"+(this.state.childrenVisible?" expanded":" collapsed")},l.a.createElement("svg",{width:"20px",height:"20px"},l.a.createElement("use",{href:"#expander"}))),l.a.createElement("div",{className:"claim-inner"},l.a.createElement("div",{className:"lines"},l.a.createElement("div",{className:"lines-inner"},l.a.createElement("svg",{className:"lines-pointer",style:{left:100*d+"%"},height:"20",width:"20",viewBox:"0 0 10 10"},l.a.createElement("path",{d:"m 0,1.3 a 10,10 0 0 1 10,0 L 5,10 Z"})),l.a.createElement("span",{className:"min"},n.labelMin),l.a.createElement("span",{className:"mid"},n.labelMid),l.a.createElement("span",{className:"max"},n.labelMax),l.a.createElement("div",{className:"tic",style:{left:"0%"}}),l.a.createElement("div",{className:"tic",style:{left:"33.3%"}}),l.a.createElement("div",{className:"tic",style:{left:"66.6%"}}),l.a.createElement("div",{className:"tic",style:{left:"100%"}}))),l.a.createElement("label",{htmlFor:"expander2-"+t.id,className:"numbers",title:m+f},l.a.createElement("span",{className:"number"},l.a.createElement("span",{className:"sign"},E),C),void 0===t.parentScoreId&&"%"),l.a.createElement("span",{className:"score-description",title:c+"% confidence based on "+f},m+f),l.a.createElement("span",{className:"rs-content",dangerouslySetInnerHTML:function(){var e=new N.Parser({}),t=new N.HtmlRenderer({safe:!0}),a=e.parse(n.content),r=t.render(a);return{__html:r=r.replace(/href="/g,' target="_blank" rel="noopener noreferrer"  href="')}}()}),l.a.createElement("label",{className:"more-info",htmlFor:"expander2-"+t.id},"More info\u2026")),l.a.createElement("svg",{className:"callout",width:"30px",height:"30px"},l.a.createElement("use",{href:"#callout"})))),l.a.createElement("div",{className:"scoreInfo"},m+f,l.a.createElement("span",{className:"editable"},l.a.createElement("button",{onClick:this.handleEditButtonClick,className:"btn-inline"},"edit this claim"),l.a.createElement("button",{onClick:this.handleAddButtonClick,className:"btn-inline"},"add a pro or con"))),l.a.createElement(k.a,{in:this.state.editorVisible,timeout:490,classNames:"editor"},l.a.createElement("div",null,this.state.editorVisible&&l.a.createElement(x,{claimId:n.id,repository:e.repository,claimEdge:this.state.claimEdge,proMainContext:this.state.addMode?i:e.proMainContext,handleEditClose:this.handleEditClose,messenger:e.messenger,new:this.state.addMode}))),l.a.createElement("ul",{id:"children-"+this.state.score.id,className:"children "+(this.state.childrenVisible?"":"hide")},l.a.createElement(w.a,{component:null},r.length>0&&v.map((function(t){return l.a.createElement(k.a,{key:t.id,timeout:5e3,classNames:"score"},l.a.createElement("li",{key:t.id},l.a.createElement(a,{scoreId:t.id,repository:e.repository,proMainContext:i,messenger:e.messenger,settings:e.settings,scoreTree:e.scoreTree})))})))))}}]),a}(l.a.Component),S=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleDataDispatch=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,c,l,o,d,m,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(s.a)(t);try{for(a.s();!(i=a.n()).done;)l=i.value,o=l.newData,d=l.type,m=l.dataId,h={},"modify_scoreTree"===d&&m===(null===(c=n.state.scoreTree)||void 0===c?void 0:c.id)&&(h.scoreTree=Object(p.a)({},n.state.scoreTree,{},o)),n.setState(h)}catch(r){a.e(r)}finally{a.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSave=function(){var e=n.getData();window.RsDatabase.doc(n.state.settings.dbCollection).set(e).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},n.handleImport=function(){var e=document.createElement("div");e.innerHTML='<input type="file">';var t=e.firstChild,a=Object(b.a)(n);t&&(t.addEventListener("change",(function(){if(t.files){var e=t.files[0];if(e.name.match(/\.(txt|json)$/)){var n=new FileReader;n.onload=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.repository.rsData=JSON.parse(n.result),t=a.state.scoreTree,a.setState({scoreTree:void 0}),e.next=5,Object(v.calculateScoreActions)({actions:[new v.Action(t,void 0,"add_scoreTree")],repository:a.props.repository}).then((function(e){setTimeout((function(){a.setState({scoreTree:t})}),100)}));case 5:case"end":return e.stop()}}),e)}))),n.readAsText(e)}else alert("File not supported, .txt or .json files only")}})),t.click())},n.handleExport=function(){var e=n.getData(),t=document.createElement("a");t.href="data:text/csv;charset=utf-8,"+encodeURI(JSON.stringify(e)),t.target="_blank",t.download="rsData.json",t.click()},n.toggleSettings=function(){n.setState({settingsOpen:!n.state.settingsOpen})},n.handleSetting=function(e,t){n.setState(Object(p.a)({},n.state,{settings:Object(p.a)({},n.state.settings,Object(m.a)({},e,t.currentTarget.checked))}))},n.state={settings:Object(p.a)({},{numbers:!1,lines:!0,scoreDescriptions:{impact:[{min:-10,desc:"Myth"},{min:-.1,desc:"Unsupported"},{min:.1,desc:"Weak"},{min:.5,desc:""},{min:.9,desc:"Srong"},{min:1.1,desc:"Very Srong"}],result:[{min:-10,desc:"Myth"},{min:-.1,desc:"Unsupported"},{min:.1,desc:"Possible"},{min:.5,desc:"Likely"},{min:.9,desc:"Probable"},{min:1.1,desc:"Probable"}]}},{},n.props.settings),settingsOpen:!1,scoreTree:void 0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.props.repository.getScoreTree(this.props.scoreTreeId);case 3:e.t1=e.sent,e.t2={scoreTree:e.t1},e.t0.setState.call(e.t0,e.t2),this.props.messenger.subscribe(this.handleDataDispatch);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=JSON.parse(JSON.stringify(this.props.repository.rsData)),t=e.items;for(var a in t)"score"===t[a].type&&delete t[a];return e.scoreIdsBySourceId={},e.childIdsByScoreId={},e}},{key:"classNames",value:function(){var e="";for(var t in this.state.settings)this.state.settings[t]&&(e+="s-"+t+" ");return e}},{key:"render",value:function(){var e=this,t=this.state.settings;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.classNames()},this.state.scoreTree&&l.a.createElement(C,{scoreId:this.state.scoreTree.topScoreId,repository:this.props.repository,proMainContext:!0,messenger:this.props.messenger,settings:this.state.settings,scoreTree:this.state.scoreTree})),l.a.createElement("div",{className:"Content"},l.a.createElement("div",{style:{maxWidth:"600px",margin:"10px",padding:"5rem 0 .5rem 0",opacity:.3},className:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},l.a.createElement("div",{className:"btn-group mr-3",role:"group","aria-label":"Save"},!t.DbNotAvailable&&t.editable&&t.saveToCloud&&l.a.createElement("button",{onClick:this.handleSave,type:"button",value:"Submit",className:"btn btn-secondary"},"Save to cloud"),t.portData&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleImport,type:"button",value:"download",className:"btn btn-secondary"},"Import"),l.a.createElement("button",{onClick:this.handleExport,type:"button",value:"download",className:"btn btn-secondary"},"Export"))),l.a.createElement("div",{className:"btn-group mr-3 float-right",role:"group","aria-label":"Settings"},l.a.createElement("svg",{onClick:this.toggleSettings,style:{cursor:"pointer",height:"1em",fill:"#aaa",stroke:"none"},viewBox:"0 0 1280.000000 1280.000000"},l.a.createElement("metadata",null,"Created by potrace 1.15, written by Peter Selinger 2001-2017"),l.a.createElement("g",{transform:"translate(0,1280) scale(0.1,-0.1)"},l.a.createElement("path",{d:"M5664 11538 c-38 -40 -55 -68 -68 -113 -19 -65 -44 -149 -70 -235 -9 -30 -74 -248 -145 -484 l-128 -429 -97 -33 c-176 -60 -334 -125 -503 -209 l-168 -83 -100 53 c-55 29 -154 82 -220 117 -66 36 -147 80 -180 98 -232 125 -441 239 -505 275 -41 22 -100 54 -131 70 l-57 29 -108 -101 c-60 -56 -315 -308 -568 -561 l-458 -460 54 -98 c30 -55 77 -139 103 -189 26 -49 62 -115 78 -145 17 -30 57 -103 89 -162 32 -60 86 -159 119 -220 34 -62 84 -156 112 -208 27 -52 56 -104 63 -115 8 -11 14 -26 14 -35 0 -8 -31 -76 -69 -150 -90 -176 -178 -385 -247 -587 -18 -50 -20 -52 -74 -68 -30 -10 -73 -23 -95 -30 -34 -11 -101 -31 -140 -41 -5 -2 -41 -12 -80 -24 -38 -12 -77 -23 -85 -25 -8 -2 -46 -13 -85 -25 -38 -12 -77 -23 -85 -25 -8 -2 -69 -20 -135 -40 -177 -53 -269 -81 -370 -110 -82 -24 -95 -31 -147 -83 l-57 -57 -1 -712 c0 -688 0 -713 19 -722 10 -6 56 -21 102 -35 46 -13 170 -50 274 -81 105 -31 197 -58 205 -60 8 -2 47 -14 85 -25 111 -34 154 -47 245 -73 113 -33 287 -85 326 -98 27 -8 34 -18 49 -67 79 -263 165 -482 275 -702 l68 -136 -52 -100 c-29 -54 -81 -151 -116 -214 -34 -63 -79 -146 -100 -185 -21 -38 -65 -119 -97 -180 -97 -177 -187 -344 -236 -436 l-46 -85 510 -510 509 -509 58 29 c31 17 91 49 132 71 82 46 409 224 535 291 44 24 134 72 200 109 66 36 152 82 191 102 l71 36 179 -90 c98 -50 240 -114 314 -143 74 -29 144 -56 155 -61 18 -7 175 -57 231 -74 14 -3 25 -19 32 -43 18 -63 66 -228 112 -377 11 -38 23 -77 25 -85 3 -13 70 -240 139 -470 13 -41 40 -132 61 -203 l38 -127 723 0 723 0 55 66 c31 36 56 68 57 72 1 13 8 37 29 107 12 39 23 77 25 85 2 8 13 47 25 85 12 39 23 77 25 85 2 8 13 44 24 80 11 36 63 211 116 390 53 179 100 332 105 340 4 8 48 28 97 44 156 50 363 137 548 229 l180 90 55 -29 c30 -16 118 -63 195 -105 125 -68 203 -110 445 -241 36 -20 119 -65 185 -100 66 -36 159 -86 206 -111 47 -26 92 -47 101 -47 18 0 1118 1103 1118 1122 0 7 -12 33 -26 58 -14 25 -45 81 -69 125 -23 44 -71 132 -105 195 -35 63 -138 255 -230 426 -93 170 -177 326 -189 345 -11 19 -21 41 -21 50 0 9 27 69 60 133 53 104 109 230 156 351 9 22 19 47 23 55 4 8 25 69 46 135 21 66 43 125 49 132 6 6 52 23 101 38 148 44 177 52 250 75 39 11 77 23 85 25 8 2 47 13 85 25 39 12 77 23 85 25 8 2 47 13 85 25 39 12 77 23 85 25 8 2 69 20 135 40 66 20 158 47 204 60 74 21 91 30 138 77 l53 52 0 722 0 722 -62 21 c-59 19 -325 98 -358 106 -8 2 -46 14 -85 25 -105 32 -151 46 -250 75 -49 15 -126 37 -170 50 -44 13 -118 35 -165 49 -47 13 -114 33 -150 45 l-65 20 -34 103 c-67 211 -195 507 -293 684 l-45 80 80 145 c43 79 99 182 124 229 57 106 223 413 360 665 24 44 51 95 60 113 l17 33 -499 499 c-275 275 -507 500 -515 500 -9 0 -24 -6 -35 -13 -11 -8 -58 -34 -105 -59 -90 -48 -253 -136 -447 -242 -65 -35 -145 -78 -178 -96 -92 -49 -169 -91 -302 -164 l-121 -66 -159 79 c-192 96 -331 153 -523 216 -80 26 -154 51 -166 55 -15 6 -26 29 -43 86 -33 117 -60 207 -161 544 -51 168 -102 341 -115 385 -13 44 -33 112 -45 150 -12 39 -23 78 -25 88 -2 9 -7 22 -10 27 -4 7 -260 10 -729 10 l-723 0 -49 -52z m981 -3342 c83 -16 89 -17 166 -35 248 -57 582 -231 789 -413 344 -302 557 -671 644 -1118 23 -119 27 -176 27 -362 0 -163 -9 -263 -30 -361 -6 -23 -13 -58 -16 -77 -13 -77 -89 -282 -150 -405 -178 -362 -407 -601 -735 -767 -355 -180 -750 -252 -1120 -203 -63 8 -126 17 -140 20 -14 3 -47 10 -75 16 -91 18 -310 97 -423 154 -560 280 -966 827 -1058 1425 -30 198 -30 501 1 650 3 14 8 41 11 60 31 174 128 426 228 593 120 200 230 324 406 456 216 163 515 302 745 346 73 14 203 35 240 39 83 9 412 -4 490 -18z"}))))),l.a.createElement("div",{className:"settings-container "+(this.state.settingsOpen&&"show-settings")},l.a.createElement("div",{className:"settings-grid "},Object.keys(this.state.settings).map((function(t){return l.a.createElement("div",{key:t},(!0===e.state.settings[t]||!1===e.state.settings[t])&&l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",id:"s-"+t,checked:e.state.settings[t],onChange:e.handleSetting.bind(e,t)}),l.a.createElement("label",{htmlFor:"s-"+t},t)))}))))),l.a.createElement("svg",{style:{display:"none"}},l.a.createElement("symbol",{id:"callout",viewBox:"0 0 30 30"},l.a.createElement("g",null,l.a.createElement("path",{d:"M 18,28 C 10,28 4,28 2,20 L 10,2 c 0,10 0,23 8,26 z"})))),l.a.createElement("svg",{height:"20px",width:"20px",style:{display:"none"}},l.a.createElement("symbol",{id:"expander",viewBox:"0 0 10 10"},l.a.createElement("g",null,l.a.createElement("path",{d:"m1 1 7 4-7 4z"})))))}}]),a}(c.Component),M=function(e){var t=e.scoreTreeId,a=e.repository,n=e.messenger,r=e.settings;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,{repository:a,scoreTreeId:t,messenger:n,settings:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(){return(O=Object(i.a)(r.a.mark((function e(){var t,a,n,i,c,o,m,p,h,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new v.RepositoryLocalPure,a=new v.Messenger,null===(n=window.RsSettings).dbCollection&&(n.dbCollection="rsData"),!window.RsDatabase){e.next=8;break}return e.next=7,window.RsDatabase.doc(n.dbCollection).get();case 7:i=e.sent;case 8:if(!i||!i.exists){e.next=12;break}t.rsData=i.data(),e.next=16;break;case 12:if(!window.RsActions){e.next=16;break}return e.next=15,t.notify(window.RsActions);case 15:n.DbNotAvailable=!0;case 16:c=document.getElementsByTagName("rs-score"),o=Object(s.a)(c),e.prev=18,o.s();case 20:if((m=o.n()).done){e.next=34;break}return p=m.value,h=p.getAttribute("score-tree-Id"),u="",h&&(u=h),e.next=27,t.getScoreTree(u);case 27:if(!(b=e.sent)){e.next=31;break}return e.next=31,Object(v.calculateScoreActions)({actions:[new v.Action(b,void 0,"add_scoreTree")],repository:t});case 31:d.a.render(l.a.createElement(M,{scoreTreeId:u,repository:t,messenger:a,settings:window.RsSettings}),p);case 32:e.next=20;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(18),o.e(e.t0);case 39:return e.prev=39,o.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[18,36,39,42]])})))).apply(this,arguments)}!function(){O.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.f10a4f42.chunk.js.map